"use strict";(self.webpackChunkheroesApp=self.webpackChunkheroesApp||[]).push([[381],{2381:(Z,m,c)=>{c.r(m),c.d(m,{JuegoVidaModule:()=>y});var g=c(6814),f=c(3403);class b{constructor(l,o,i,e=!1,a="RGB(0,0,0)"){this.id=0,this.x=0,this.y=0,this.miBoard=[],this.id=l,this.x=o,this.y=i,this.enabled=e,this.color=a}set refBoard(l){this.miBoard=l}get totalVecinos(){let l,o,i=0,e=this.x-1,a=this.y-1,n=this.x+1,d=this.y+1;try{for(e<1&&(e=1),n>this.miBoard[0].length-2&&(n=this.x),a<1&&(a=1),d>this.miBoard.length-2&&(d=this.y),o=a;o<=d;o++)for(l=e;l<=n;l++)l===this.x&&o===this.y||this.miBoard[o][l].enabled&&(i+=1);return i}catch(h){return h instanceof Error?console.log("Se ha producido un error de tipo Error:",h.message,"posicion y,x: ",o,l):h instanceof TypeError?console.log("Se ha producido un error de tipo TypeError:",h.message):console.log("Se ha producido un error de otro tipo:",h),0}}}var s=c(6223),t=c(5879),v=c(9157);const C=function(r){return{color:r}};function u(r,l){return Number((Math.random()*(l-r)+r).toFixed(0))}const A=[{path:"",component:(()=>{class r{constructor(){this.canvas=null,this.context=null,this.canLogic=!0,this.canRender=!0,this.pruebas=-2,this.direccion=.1,this.board=[],this.cloneBoard=[],this.juegoVidaIniciado=!1,this.timeRefreshJuegoVida=10,this.numCelulas=500,this.BLOCK_SIZE=2,this.TIPO_PRUEBA=3,this.tableroAncho=Number(500..toFixed(0)),this.tableroAlto=300,this.control="",this.btActivarLabel="Pausar",this.btColorText="RGB(255,0,0)",this.vidaForm=new s.cw({refreshRate:new s.NI(10,{nonNullable:!0}),numCelulas:new s.NI(500,{nonNullable:!0}),boardWidth:new s.NI(500,{nonNullable:!0}),boardHeight:new s.NI(300,{nonNullable:!0}),blockSize:new s.NI(2,{nonNullable:!0})}),this.formOption=new s.cw({opcionSeleccionada:new s.NI(3,{nonNullable:!0})})}ngOnInit(){this.canvas=document.querySelector("canvas"),this.canvas?(this.context=this.canvas.getContext("2d"),this.incializar_Tablero(),this.incializar_Canvas(),3===this.TIPO_PRUEBA&&this.incializarJuegoVida(this.numCelulas),this.frame_update()):(console.error("Canvas not found"),this.context={})}incializar_Tablero(){let o=0;this.board=new Array(this.tableroAlto).fill(null).map((i,e)=>new Array(this.tableroAncho).fill(null).map((a,n)=>new b(o+=1,n,e)))}clonarTablero(){this.control="Clonando tablero",this.cloneBoard=this.board.map(o=>o.map(i=>new b(i.id,i.x,i.y,i.enabled,i.color))),this.cloneBoard.forEach(o=>o.forEach(i=>i.refBoard=this.cloneBoard))}copiarTablero(){for(let o=0;o<this.board.length;o++)for(let i=0;i<this.board[o].length;i++)this.cloneBoard[o][i].enabled=this.board[o][i].enabled}incializar_Canvas(o=this.tableroAlto,i=this.tableroAncho){this.control="inicializando Canvas",this.canvas.width=this.BLOCK_SIZE*i,this.canvas.height=this.BLOCK_SIZE*o,this.context.scale(this.BLOCK_SIZE,this.BLOCK_SIZE)}frame_update(){this.canLogic&&this.activarBoardPruebas(this.TIPO_PRUEBA),this.canRender&&this.draw(),window.requestAnimationFrame(this.frame_update.bind(this))}draw(){this.context.fillStyle="#000",this.context?.fillRect(0,0,this.canvas.width,this.canvas.height),this.paintBoard()}paintBoard(){this.board.forEach((i,e)=>i.forEach((a,n)=>{a.enabled&&(this.context.fillStyle=a.color,this.context.fillRect(n,e,1,1)),(0===n||0===e||n==this.tableroAncho-1||e==this.tableroAlto-1)&&(this.context.fillStyle="black",this.context.fillRect(n,e,1,1))}))}activarBoardPruebas(o=1){const i=this.pruebas;if(1===o&&this.board.forEach((e,a)=>{e.forEach((n,d)=>{10*Math.random()>=9.9?(n.enabled=!0,n.color="RGB("+u(120,255)+",200,"+u(1,255)+")"):(n.enabled=!1,n.color="RGB(0,0,0)")})}),2===o){for(let e=0;e<this.board.length;e++)for(let a=0;a<this.board[0].length;a++)this.board[e][a].color="RGB("+(255-(2*a*i-e))+","+Math.abs(2*e*i-a)+","+(255-(2*e*i-a))+")",this.board[e][a].enabled=!0;this.direccion>0&&10===this.pruebas&&(this.direccion=-.1),this.direccion<0&&-7===this.pruebas&&(this.direccion=.1),this.pruebas=Number((this.pruebas+this.direccion).toFixed(2)),this.canLogic=!1,setTimeout(()=>{this.canLogic=!0},this.timeRefreshJuegoVida)}3===o&&(this.logica_Juego_Vida(),this.canLogic=!1,setTimeout(()=>{this.canLogic=!0},this.timeRefreshJuegoVida))}pararJuegoVida(){this.juegoVidaIniciado=!1}reanudarJuegoVida(){this.juegoVidaIniciado=!0}incializarJuegoVida(o=10){let h,e=0,a=0,n=0,d=0;for(a=1;a<this.tableroAlto;a++)for(e=1;e<this.tableroAncho;e++)this.board[a][e].enabled=!1,this.board[a][e].color="RGB("+(255-(2*e*1-a))+","+Math.abs(2*a*1-e)+","+(255-(2*a*1-e))+")",this.board[a][e].refBoard=this.board;for(let p=1;p<=o;p++){e=u(2,this.tableroAncho-2),a=u(2,this.tableroAlto-2),this.board[a][e].enabled=!0;for(let x=1;x<=3;x++){for(n=0,d=0,h=0;this.board[a+d][e+n].enabled&&h<10;)n=u(-1,1),d=u(-1,1),h++;this.board[a+d][e+n].enabled=!0}}this.clonarTablero(),this.juegoVidaIniciado=!0}logica_Juego_Vida(){if(!this.juegoVidaIniciado)return;let o;this.copiarTablero();for(let i=2;i<this.tableroAlto-2;i++)for(let e=2;e<this.tableroAncho-2;e++)o=this.cloneBoard[i][e],o.enabled||3!==o.totalVecinos?o.enabled&&(2===o.totalVecinos||3===o.totalVecinos)||(this.board[i][e].enabled=!1):this.board[i][e].enabled=!0}pararReanudar(){this.juegoVidaIniciado?(this.pararJuegoVida(),this.btActivarLabel="Reanudar",this.btColorText="RGB(0,255,0)"):(this.reanudarJuegoVida(),this.btActivarLabel="Pausar",this.btColorText="RGB(255,0,0)")}aplicarCambios(){this.timeRefreshJuegoVida=this.vidaForm.get("refreshRate").value,this.numCelulas=this.vidaForm.get("numCelulas").value,this.tableroAncho=this.vidaForm.get("boardWidth").value,this.tableroAlto=this.vidaForm.get("boardHeight").value,this.BLOCK_SIZE=this.vidaForm.get("blockSize").value,this.ReiniciarJuego()}ReiniciarJuego(){this.canvas?(3===this.TIPO_PRUEBA&&this.pararJuegoVida(),this.board=[],this.cloneBoard=[],this.incializar_Tablero(),this.incializar_Canvas(),3===this.TIPO_PRUEBA&&this.incializarJuegoVida(this.numCelulas),this.btActivarLabel="Pausar",this.btColorText="RGB(255,0,0)"):(console.error("Canvas not found"),this.context={})}reset(){this.vidaForm.get("refreshRate").setValue(10),this.vidaForm.get("numCelulas").setValue(500),this.vidaForm.get("boardWidth").setValue(500),this.vidaForm.get("boardHeight").setValue(300),this.vidaForm.get("blockSize").setValue(2),this.aplicarCambios(),this.ReiniciarJuego()}onChangeGame(){this.TIPO_PRUEBA=this.formOption.get("opcionSeleccionada").value,this.vidaForm.get("boardWidth").setValue(150),this.vidaForm.get("boardHeight").setValue(100),this.vidaForm.get("blockSize").setValue(5),this.aplicarCambios(),this.ReiniciarJuego()}static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["ng-component"]],decls:65,vars:12,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"contenedor-flex"],[1,"form-flex","divBordeAzul",2,"flex-direction","column","padding-right","2px"],["id","datos"],[2,"margin-top","5px",3,"formGroup"],[1,"form-check"],["type","radio","formControlName","opcionSeleccionada",3,"value","change"],[1,"divBordeAzul"],[1,"form-flex","sm:col-7",3,"formGroup","ngSubmit"],[1,"flex-text-col"],["for","refreshRate"],["formControlName","refreshRate","type","number","min","0","max","2000","step","2","id","refreshRate",1,"primary-text"],["for","numCelulas"],["formControlName","numCelulas","type","number","min","0","max","2000","step","50","id","numCelulas",1,"primary-text"],["for","alto"],["formControlName","boardHeight","type","number","min","0","max","1440","step","50","id","alto",1,"primary-text"],["formControlName","boardWidth","type","number","min","0","max","1440","step","50","id","ancho",1,"primary-text"],["for","TamBloque"],["formControlName","blockSize","type","number","min","0","max","20","step","1","id","TamBloque",1,"primary-text"],[2,"margin-right","5px","margin-top","5px"],["type","submit",1,"secondary-button"],["id","Otros botones",1,"form-flex",2,"margin-top","5px"],[2,"margin-right","5px"],["type","button",1,"primary-button",3,"ngStyle","click"],["type","button",1,"green-button",3,"click"],["id","app",2,"margin-top","5px","padding","1px"],["id","canvas"]],template:function(i,e){1&i&&(t.TgZ(0,"head"),t._UZ(1,"meta",0)(2,"meta",1),t.TgZ(3,"title"),t._uU(4,"Juego Vida"),t.qZA()(),t.TgZ(5,"body")(6,"section",2)(7,"div",3)(8,"div",4)(9,"div"),t._uU(10),t.qZA(),t.TgZ(11,"div"),t._uU(12),t.qZA(),t.TgZ(13,"div"),t._uU(14),t.qZA()(),t.TgZ(15,"div"),t._UZ(16,"hr"),t.qZA(),t.TgZ(17,"form",5)(18,"div",6)(19,"label")(20,"input",7),t.NdJ("change",function(){return e.onChangeGame()}),t.qZA(),t._uU(21," Ruido "),t.qZA()(),t.TgZ(22,"div",6)(23,"label")(24,"input",7),t.NdJ("change",function(){return e.onChangeGame()}),t.qZA(),t._uU(25," Color Fade "),t.qZA()(),t.TgZ(26,"div",6)(27,"label")(28,"input",7),t.NdJ("change",function(){return e.onChangeGame()}),t.qZA(),t._uU(29," Juego Vida "),t.qZA()()()(),t.TgZ(30,"div",8),t._uU(31,"Opciones "),t.TgZ(32,"form",9),t.NdJ("ngSubmit",function(){return e.aplicarCambios()}),t.TgZ(33,"div",10)(34,"label",11),t._uU(35,"Tasa de Refresco"),t.qZA(),t._UZ(36,"input",12),t.qZA(),t.TgZ(37,"div",10)(38,"mat-label",13),t._uU(39,"N\xba de c\xe9lulas"),t.qZA(),t._UZ(40,"input",14),t.qZA(),t.TgZ(41,"div",10)(42,"label",15),t._uU(43,"Bloques Altura"),t.qZA(),t._UZ(44,"input",16),t.qZA(),t.TgZ(45,"div",10)(46,"mat-label",15),t._uU(47,"Bloques Ancho"),t.qZA(),t._UZ(48,"input",17),t.qZA(),t.TgZ(49,"div",10)(50,"mat-label",18),t._uU(51,"Tama\xf1o Bloque"),t.qZA(),t._UZ(52,"input",19),t.qZA(),t.TgZ(53,"div",20)(54,"button",21),t._uU(55,"Aplicar Cambios"),t.qZA()(),t.TgZ(56,"div",22)(57,"div",23)(58,"button",24),t.NdJ("click",function(){return e.pararReanudar()}),t._uU(59),t.qZA()(),t.TgZ(60,"div",23)(61,"button",25),t.NdJ("click",function(){return e.reset()}),t._uU(62," Reset "),t.qZA()()()()()(),t.TgZ(63,"div",26),t._UZ(64,"canvas",27),t.qZA()()),2&i&&(t.xp6(10),t.hij("Altura: ",e.tableroAlto,""),t.xp6(2),t.hij("Ancho: ",e.tableroAncho,""),t.xp6(2),t.hij("Juego Vida Iniciado: ",e.juegoVidaIniciado,""),t.xp6(3),t.Q6J("formGroup",e.formOption),t.xp6(3),t.Q6J("value",1),t.xp6(4),t.Q6J("value",2),t.xp6(4),t.Q6J("value",3),t.xp6(4),t.Q6J("formGroup",e.vidaForm),t.xp6(26),t.Q6J("ngStyle",t.VKq(10,C,e.btColorText)),t.xp6(1),t.hij(" ",e.btActivarLabel," "))},dependencies:[g.PC,s._Y,s.Fj,s.wV,s._,s.JJ,s.JL,s.qQ,s.Fd,s.sg,s.u,v.hX],styles:["[_ngcontent-%COMP%]:root{color-scheme:dark light;color:#fffc;background-color:#000}body[_ngcontent-%COMP%]{margin:2px;padding:5px;display:grid;place-content:left;background:linear-gradient(to bottom,#f9f5fa,#081f37);font-size:medium}.contenedor-flex[_ngcontent-%COMP%]{display:flex}.contenedor-grid[_ngcontent-%COMP%]{border:2px solid black;display:grid;grid-template-columns:2fr 8fr;grid-template-rows:36% auto;max-height:36%}.divBordeAzul[_ngcontent-%COMP%]{border:2px solid rgb(89,126,235)}.form-flex[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;padding:0}.form-grid[_ngcontent-%COMP%]{width:99.9%;height:89%;border:2px solid rgb(200,172,17);display:grid;padding:0;grid-template-columns:auto auto auto auto auto auto auto auto auto auto auto auto;grid-template-rows:40% 60%}.primary-button[_ngcontent-%COMP%]{font-size:1em;font-weight:700;padding:10px 30px;border-radius:5px;border:2px solid rgba(0,0,0,.5);box-shadow:2px 2px 10px #00000080;color:#fff;background-color:#8a2be2;cursor:pointer}.primary-button[_ngcontent-%COMP%]:hover{background-color:#562d7d}.secondary-button[_ngcontent-%COMP%]{font-size:1em;font-weight:700;padding:10px 30px;border-radius:5px;border:2px solid rgba(0,0,0,.5);box-shadow:2px 2px 10px #00000080;color:#fff;background-color:#503fea;cursor:pointer}.green-button[_ngcontent-%COMP%]{font-size:1em;font-weight:700;padding:10px 30px;border-radius:5px;border:2px solid rgba(0,0,0,.5);box-shadow:2px 2px 10px #00000080;color:#fff;background-color:#34a42e;cursor:pointer}.green-button[_ngcontent-%COMP%]:hover{background-color:#206120}.secondary-button[_ngcontent-%COMP%]:hover{background-color:#302d7d}.primary-text[_ngcontent-%COMP%]{font-size:1em;border-radius:3px;border:2px solid rgba(0,0,0,.5);box-shadow:2px 2px 10px #00000080;color:#fff;background-color:#a49dde}.flex-text-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:5px}"]})}return r})()}];let _=(()=>{class r{static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275mod=t.oAB({type:r});static#o=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(A),f.Bz]})}return r})();var B=c(6889);let y=(()=>{class r{static#t=this.\u0275fac=function(i){return new(i||r)};static#e=this.\u0275mod=t.oAB({type:r});static#o=this.\u0275inj=t.cJS({imports:[g.ez,_,s.UX,B.q]})}return r})()}}]);