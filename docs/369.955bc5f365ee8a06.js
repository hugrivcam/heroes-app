"use strict";(self.webpackChunkheroesApp=self.webpackChunkheroesApp||[]).push([[369],{5369:(A,c,n)=>{n.r(c),n.d(c,{PruebaAsyncModule:()=>b});var l=n(6814),d=n(3403),t=n(5879);const f=function(e,i){return{"border-color":e,"background-color":i}};function v(e,i){if(1&e&&(t.TgZ(0,"div",8),t._uU(1),t.qZA()),2&e){const s=i.$implicit;t.Q6J("ngStyle",t.WLB(2,f,s.colorBorde,s.backColor)),t.xp6(1),t.hij(" ",s.life," ")}}let u=(()=>{class e{Stop_start(){this.totalVivos?(this.finalizaUniverso(),this.label1="Comenzar"):(this.label1="Finalizar",this.creaNuevoUniverso(3),this.visualizaUniverso())}comprueba_hijos(){let s=!1,o=0;return this.listaActivos=this.listaSeres.filter(r=>r.life>0),this.totalVivos=this.listaActivos.length,o=this.listaSeres.length-this.listaActivos.length,o>50&&(this.listaSeres=this.listaActivos),this.totalVivos>0&&this.listaActivos.forEach((r,a,h)=>{s||a>0&&Math.abs(r.life-h[a-1].life)>20&&r.life>0&&h[a-1].life>0&&a<h.length&&(this.totalVivos<this.MAX_VIVOS&&(s=!0),this.listaActivos[a-1].life=this.listaActivos[a].life,this.listaActivos[a-1].iluminar=!0,this.listaActivos[a].iluminar=!0)}),s}clearAll(){this.vivos=0,this.totalVivos=0,this.total=0,this.listaSeres=[],this.listaActivos=[]}addnewSer(){const s=new p(this.total+1);return this.listaSeres.push(s),this.total+=1,this.total-1}creaNuevoUniverso(s){this.totalVivos+=1;for(let o=0;o<s;o++)this.addnewSer()}finalizaUniverso(){this.vivos=0,this.clearAll()}visualizaUniverso(){const s=setInterval(()=>{this.comprueba_hijos()&&this.addnewSer(),this.totalVivos<=0&&clearInterval(s)},this.tiempoIntervalo)}constructor(){this.MAX_VIVOS=100,this.tiempoIntervalo=250,this.vivos=3,this.totalVivos=0,this.total=0,this.listaSeres=[],this.listaActivos=[],this.label1="Finalizar",this.creaNuevoUniverso(3),this.visualizaUniverso()}static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:14,vars:3,consts:[[2,"display","flex","align-items","center","justify-content","center"],["sytyle","color:white;border-radius: 0%;",1,"titulo"],[1,"grid","col-2"],[2,"margin-top","10px","margin-right","10px"],[1,"cajita"],["mat-raised-button","",2,"cursor","pointer","width","auto","height","30px","margin-left","10px","margin-top","6px",3,"click"],[1,"grid","col-12"],["class","caja",3,"ngStyle",4,"ngFor","ngForOf"],[1,"caja",3,"ngStyle"]],template:function(o,r){1&o&&(t.TgZ(0,"body")(1,"div",0)(2,"h1",1),t._uU(3,"Test procesos concurrentes"),t.qZA()(),t.TgZ(4,"div",2)(5,"h3",3),t._uU(6,"Total Vivos:"),t.qZA(),t.TgZ(7,"h1",4),t._uU(8),t.qZA(),t.TgZ(9,"button",5),t.NdJ("click",function(){return r.Stop_start()}),t._uU(10),t.qZA()(),t._UZ(11,"hr"),t.TgZ(12,"div",6),t.YNc(13,v,2,5,"div",7),t.qZA()()),2&o&&(t.xp6(8),t.Oqu(r.totalVivos),t.xp6(2),t.hij(" ",r.label1," "),t.xp6(3),t.Q6J("ngForOf",r.listaSeres))},dependencies:[l.sg,l.PC],styles:["body[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#a712ec,#749ec7)}.caja[_ngcontent-%COMP%]{width:25px;height:25px;padding:2px;margin:2px;border-radius:20%;border-style:solid;align-items:center;text-align:center;color:#f0f8ff;border-color:#04ff00}.cajita[_ngcontent-%COMP%]{width:auto;height:30px;min-width:30px;padding:2px;margin:2px;background-color:#051d4a;border-radius:20%;border-style:solid;align-items:center;text-align:center;color:#f0f8ff;border-color:#3700ff}.titulo[_ngcontent-%COMP%]{width:auto;max-width:500px;height:30px;min-width:30px;padding:2px;margin:2px;background-color:#051d4a;border-radius:0%;border-style:double;align-items:center;text-align:center;color:#fdfff0;border-color:#00d0ff}"]})}return e})();class p{get life(){return this.vida}set life(i){i<100&&(this.vida=i)}constructor(i){this.id=0,this.tiempoIntervalo=500,this.iluminar=!1,this.colorBorde="RGB(0,255,0)",this.backColor="RGB(100,100,255)",this.br=100,this.bg=100,this.bb=255,this.pos=0,this.vida=100,this.pos=i,this.id=i,this.viviendo(),this.setColorBorde(0,255,255)}checkBackColor(){const i=100-this.life;i>0&&(this.br=100-i,this.bg=100-i,this.bb=255-2*i,this.setBackColor())}setBackColor(){this.backColor="RGB("+this.br+","+this.bg+","+this.bb+")"}cancelarIluminacion(i){setTimeout(()=>{this.iluminar=!1},i)}setColorBorde(i=-1,s=-1,o=-1){i>0&&s>0&&o>0?this.colorBorde="RGB("+i+","+s+","+o+")":this.iluminar?(this.colorBorde="RGB(255,100,0)",this.cancelarIluminacion(1500)):this.colorBorde="RGB(0,0,0)"}viviendo(){const i=setInterval(()=>{this.vida>0?(this.tap(),this.setColorBorde(),this.vida>=100&&this.setColorBorde(50,255,50)):(this.vida=0,clearInterval(i),this.setColorBorde(50,50,50)),this.checkBackColor()},this.tiempoIntervalo)}tap(){0===this.genRandIntNumber(0,1)||100===this.life?(this.vida-=this.genRandIntNumber(1,5),this.vida<0&&(this.vida=0)):this.vida+=this.vida<10?this.genRandIntNumber(0,5):this.genRandIntNumber(1,2),this.vida>100&&(this.vida=100)}genRandIntNumber(i,s){const o=Math.random();return i=Math.floor(i),s=Math.floor(s),Math.floor(o*(s-i+1))+i}}const g=[{path:"",children:[{path:"",component:u},{path:"**",component:u}]}];let m=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(g),d.Bz]})}return e})(),b=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#i=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[l.ez,m]})}return e})()}}]);